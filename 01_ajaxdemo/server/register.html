<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title>注册界面</title>
		<script type="text/javascript">
			
			window.onload = function(){
				var username = document.querySelector("#username");
				var email = document.querySelector("#email");
				var phone = document.querySelector("#phone");
				
				username.onblur = function(){
					var usernameValue = username.value;
					
					var xhr = null;
					if(window.XMLHttpRequest){
						xhr = new XMLHttpRequest();
						
					}else{
						xhr = new ActiveXObject("Microsoft.XMLHTTP");
						
					}
					xhr.open("get","/server/checkUsername.php?uname=" + usernameValue,true);
				
					xhr.send(null);
					
					xhr.onreadystatechange=function(){
						if(xhr.readyState == 4){
							if(xhr.status == 200){
								var result = xhr.responseText;
								var username_result.querySelector("#username_result");
								if (result=="ok") {
									username_result.innerText = "用户名可以使用";
									
								} else{
									username_result.innerText = "用户名已经被注册";
								}
								
								
								
								
								
							}
						}
					};
				
				
				};
				
			};
			
		</script>
	</head>
	<body>
		
		<h1>注册界面</h1>
		<from action="">
			用户名：<input type="text" id="username" /><span id="username_result"></span><br />
			邮箱：<input type="text" id="email" /><span id="email_result"></span><br />
			手机号码：<input type="text" id="phone" /><span id="phone_result"></span><br />
		</from>
		
	</body>
</html>
